@using SOMOSDASWEBAPP.Dtos;
@model SOMOSDASWEBAPP.Models.Inscripcion

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Recibo</title>
    <link href="~/css/printer.css" rel="stylesheet" />
    <script src="~/js/qrcode.min.js"></script>
</head>
<body onload="window.print();" onafterprint="history.back()">
    <div class="contenedor onlyPrint">
        <div style="text-align: center">
            <img src="~/pictures/log.png" alt="logo" width="50px" />
            <br />
            <h3>
                SomosDas <br />
                Capacitación Tecnológica
            </h3>

            <h1>RECIBO # @Html.DisplayFor(model => model.Id)</h1>
            <p>La institución de capacitación tecnológica Nro. 1 de Oruro</p>
        </div>

        <hr />

        <dl class="row">
            <dt class="col-sm-12">
                CI: @Html.DisplayFor(model => model.Estudiante!.CedulaIdentidad)
            </dt>
            <dt class="col-sm-12">
                Nombre: @Html.DisplayFor(model => model.Estudiante!.NombreCompleto)
            </dt>
            <dt class="col-sm-12">
                Fecha: @Html.DisplayFor(model => model.Fecha)
            </dt>
        </dl>

        <table>
            <tr>
                <th>Curso</th>
                <th>Docente</th>
                <th>TOTAL</th>
            </tr>
            <tr>
                <td>@Html.DisplayFor(model => model.Curso!.Tema)</td>
                <td>@Html.DisplayFor(model => model.Curso!.Docente)</td>
                <td><strong>@Html.DisplayFor(model => model.Costo)</strong></td>
            </tr>
        </table>

        <br />
        @{
            string literal = Global.NumeroALetras(Model.Costo);
        }
        Son: @literal

        <div style="margin-top: 20px; width:100%">
            <div id="qrcode"></div>
        </div>

        <p>Usuario: @Model.Usuario!.Email</p>

    </div>
    @{
        string codigoQR = String.Format("{0}|{1}|{2}|{3}|{4}|{5}",
        Model.Id,
        Model.Estudiante!.CedulaIdentidad,
        Model.Estudiante!.NombreCompleto,
        Model.Curso!.Tema,
        Model.Curso!.Docente,
        Model.Fecha
        );
    }

    <script>
        var qrcode = new QRCode("qrcode", {
            text: "@codigoQR",
            width: 100,
            height: 100
        });
    </script>
</body>
</html>
